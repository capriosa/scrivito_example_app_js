<!DOCTYPE html> <html> <head> <meta charset=UTF-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=robots content="follow, index, noarchive"/> <title>Mit Plesk einen Cronjob f√ºr die cron.php von Drupal erstellen | mdwp</title> <meta name=description content=""/> <meta name=author content="Meinolf Droste"/> <meta property="og:locale" content=de_DE /> <meta property="og:url" content="http://mdwp.de/mit-plesk-einen-cronjob-fuer-die-cronphp-von-drupal-erstellen/"/> <meta property="og:description" content=""/> <meta property="og:type" content=website /> <meta property="og:title" content="Mit Plesk einen Cronjob f√ºr die cron.php von Drupal erstellen | mdwp - Digital Consulting & Services"/> <meta property="og:site_name" content=mdwp /> <meta name=viewport content="width=device-width, initial-scale=1"/> <link href="https://www.mdwp.de/mit-plesk-einen-cronjob-fuer-die-cronphp-von-drupal-erstellen//" rel=canonical> <link rel=stylesheet href="/assets/bootstrap/css/bootstrap.min-2568a287.css"> <link href="/favicon.ico" rel=icon type="image/ico"/> <style>
    .container img{
      max-width:100%;
      height:auto;
      
    }

    

    .navbar {
      border-radius: 0;
    }

    small, .small {
      font-size: 13px;
    }

   

  </style> </head> <body> <section id=ext_menu-0> <nav class="navbar navbar-dropdown"> <div class=container> <div class=mbr-table> <div class=mbr-table-cell> <div class=navbar-brand> <a href="https://www.mdwp.de/" class=navbar-logo><img src="/mdwp-18b096f0.gif" alt="mdwp Logo"></a> </div> </div> <div class=mbr-table-cell> <button class="navbar-toggler pull-xs-right hidden-md-up" type=button data-toggle=collapse data-target="#exCollapsingNavbar"> <div class=hamburger-icon></div> </button> <ul class="nav-dropdown collapse pull-xs-right nav navbar-nav navbar-toggleable-sm" id=exCollapsingNavbar> <li class=nav-item><a class="nav-link link" href="/about-us/">About</a></li> <li class=nav-item><a class="nav-link link" href="/referenzen/">Referenzen</a></li> <li class=nav-item><a class="nav-link link" href="/microblog/">Artikel</a></li> <li class=nav-item><a class="nav-link link" href="/kontakt/">Kontakt</a></li> <li class=nav-item><a class="nav-link link" href="/impressum/">Impressum</a></li> <li class="nav-item nav-btn"><a class="nav-link btn btn-white btn-black-outline" href="tel:+4923316285273">Tel.: 02331 62 85 27 3</a></li></ul> <button hidden="" class="navbar-toggler navbar-close" type=button data-toggle=collapse data-target="#exCollapsingNavbar"> <div class=close-icon></div> </button> </div> </div> </div> </nav> </section> <section class="mbr-info mbr-section mbr-section-md-padding" id=msg-box2-36 style="background-color: rgb(46, 46, 46); padding-top: 180px; padding-bottom: 90px;"> <div class=container> <div class=row> <div class=mbr-table-md-up> <div class="mbr-table-cell col-md-4"> <div class=text-xs-center><a class="btn btn-primary" href="/microblog/">Archiv</a></div> </div> <div class="mbr-table-cell mbr-right-padding-md-up col-md-8 text-xs-center text-md-left"> <h3 class="mbr-info-title mbr-section-title display-2">Drupal Blog</h3> <small class=text-white>2005 - 2016</small> <h2 class="mbr-info-subtitle mbr-section-subtitle">In unserem Archiv finden Sie Beitr√§ge aus den letzten 11 Jahren. Haupts√§chlich zu Themen rund um Drupal.</h2> </div> </div> </div> </div> </section> <section class="mbr-section article mbr-section__container" id=content1-35 style="background-color: rgb(255, 255, 255); padding-top: 60px; padding-bottom: 20px;"> <div class=container> <div class=row> <div class="col-xs-12 lead"> <article> <h1>Mit Plesk einen Cronjob f√ºr die cron.php von Drupal erstellen</h1> <p>Die cron.php √ºbernimmt die Ausf√ºhrung zentraler Wartungsarbeiten und sollte regelm√§√üig ausgef√ºhrt werden. Dieser Artikel zeigt, wie Sie mit Plesk einen Cronjob anlegen, der alle 15 Minuten die cron.php aktualisiert, unabh√§ngig davon ob jemand die Seite besucht oder nicht.</p> <p>Gerade Anf√§nger haben oft das Problem, dass sie nicht wissen wie man √ºber die typische Administrationsfl√§che Plesk, die auf vielen virtuellen Servern l√§uft, einen Cronjob anlegen k√∂nnen, der genau dieses vornimmt. Ich zeige Ihnen hier Schritt f√ºr Schritt wie Sie dieses vornehmen k√∂nnen. Dabei gehe ich davon aus, dass Plesk installiert ist und ein Linux auf dem Server als Betriebssystem l√§uft.</p> <p>Folgen Sie einfach den folgenden Schritten. Anlage der Datei</p> <p>Starten wir mit der Datei selber, diese ben√∂tigt ein wenig Code.</p> <h1 id=binbash>!/bin/bash</h1> <p>lynx -dump http://www.der-domain-name.de/cron.php &gt;/dev/null</p> <p>Wir wollen uns an der Stelle nur soviel merken, dass Lynx ein Textbrowser ist, der sehr wahrscheinlich auf dem virtuellen Server installiert ist. Wir rufen also einfach diese cron.php mit Lynx auf, und schreiben die Ausgabe gleich ins Nirvana (das macht /dev/null).</p> <p>Dann speichern wir uns die Datei unter einem beliebigen Namen, wie bspw. cron_job.sh. Dabei achten Sie darauf, dass unter Windows auch wirklich .sh abgespeichert wird und nicht .sh.txt. Das erreichen Sie in der Regel durch die Benutzung von Anf√ºhrungszeichen im Texteditor Ihrer Wahl ‚Äúcron_job.sh‚Äù.</p> <p>Damit haben Sie bereits alles an Dateivorarbeit erledigt was wir hier ben√∂tigen. Datei auf den Server √ºberspielen</p> <p>Die meisten werden das Kopieren kennen, da Sie sehr wahrscheinlich auch schon die Drupalversion auf den Server kopiert haben. Nichts anderes wird hier auch gemacht.</p> <p>In dem root Verzeichnis der Drupalinstallation gibt es ein Verzeichnis scripts. Dort k√∂nnte man das Script ablegen, allerdings muss man das dann im Kopf behalten, wenn man ein Update von Drupal macht und die Verzeichnisse l√∂scht. Prinzipiell kann jedes Verzeichnis benutzt werden auf das der Benutzer unter dem der aufrufende Prozess l√§uft, auch Zugriffsrechte besitzt.</p> <p>Sehr wahrscheinlich sieht ihr Verzeichnis dann so √§hnlich aus. /var/www/vhosts//httpdocs/scripts. Kopieren Sie in das Verzeichnis dann die oben erstellt Datei hinein. Jetzt fehlen nur noch die passenden Rechte, wobei hier ein 755 ausreichend ist. Wenn Sie bspw. SCP unter Windows nutzen k√∂nnen Sie √ºber einen Rechtsklick und Properties das folgende Fenster aufrufen.</p> <p>Aber auch praktisch jeder Dateimanager wie Nautilus kann die Verbindung zum Server aufbauen. Plesk aufrufen</p> <p>Die genaue URL zum Aufrufen von Plesk erhalten Sie von Ihrem Provider. Bei Auslieferung l√§uft Plesk oft auf dem Port 8443. Bei mir sieht das dann wie folgt aus</p> <p>Nach dem Einloggen sehen Sie dann die Oberfl√§che von Plesk. Halten Sie dann Ausschau nach den Domains und anzeigen</p> <p>Danach w√§hlen Sie Ihre entsprechende Domain aus, ich habe hier meine eigene verwendet. Ein Klick gen√ºgt‚Ä¶</p> <p>‚Ä¶ und Sie finden auf der rechten unteren H√§lfte der Seite nun geplante Aufgaben welches Sie anklicken.</p> <p>Das darauf folgende Men√º mit dem Benutzer werden Sie in der Regel √ºberspringen k√∂nnen, wenn Sie nur einen Systembenutzer haben. Nachdem Sie diesen angeklickt haben, finden Sie sich auf der √úbersichtsseite aller geplanter Aufgaben wieder.</p> <p>√úber das neue Aufgabe planen am oberen Rand, k√∂nnen Sie eine neue Aufgabe erstellen. Klicken Sie den Button und Sie finden folgende Abbildung vor sich.</p> <p>Dabei kann man nun alle Felder bis auf das erste Feld (Minute) kann mit ‚Äú*‚Äù ausgef√ºllen. In dem ersten k√∂nnen wir eine Schrittweite angeben, die Info √ºber Cron bei Wikipedia hilft, um zum folgenden Bild zu kommen (nach abspeichern):</p> <p>Die letzte Zeile enth√§lt nun den Pfad zu der Datei, die oben erstellt und auf den Server kopiert worden ist. /var/www/vhosts//httpdocs/scripts/cron_job.sh w√§re die oben vorgestellte Variante. Abspeichern nicht vergessen - fertig. Ausf√ºhrung von Cron √ºberpr√ºfen</p> <p>Nat√ºrlich will und sollte man auch √ºberpr√ºfen ob der Cronjob richtig ausgef√ºhrt wird. Dazu kann man unter der URL http://www.de/admin/reports/status pr√ºfen, wann Cron zuletzt ausgef√ºhrt worden ist.</p> </article> </div> </div> </div> </section> <section class="mbr-footer footer4 mbr-section mbr-section-md-padding" id=contacts4-75 style="background-color: rgb(46, 46, 46); padding-top: 90px; padding-bottom: 90px;"> <div class=container> <div class="mbr-contacts row"> <div class=col-sm-8> <div class=row> <div class=col-sm-6> <p><strong>Adresse</strong><br>H√ºgelstr. 6a<br>58099 Hagen<br><br><br> <strong><a href="/kontakt">Kontakt</a></strong><br> E-Mail: meinolf.droste@mdwp.de<br> Tel.: 02331 62 85 27 3<br></p> </div> <div class=col-sm-6><p class=mbr-contacts__text><strong>mdwp in den sozialen Medien</strong></p><ul class=mbr-contacts__list> <li><a class=text-white href="https://facebook.com/mdwp.de" target=_blank>Facebook</a></li> <li><a class=text-white href="https://twitter.com/mdwp" target=_blank>Twitter</a></li> <li><a href="https://github.com/capriosa" target=_blank>Github</a></li> <li><a href="https://disqus.com/by/mdroste/" target=_blank>Disqus</a></li> <li><a href="/m-droste/">√úber M. Droste</a></li> </ul></div> </div> </div> <div class=col-sm-4 data-form-type=formoid> <div data-form-alert=true> <div hidden="" data-form-alert-success=true>Vielen Dank f√ºr Ihre Anfrage!</div> </div> <form method=post data-form-title="Nachricht aus mdwp footer"> <input type=hidden value="J7TWV6GKbIjZ2cgZiuoQqfUN0Z3iRcw7JhHwTw8PBBK7NRt0Meg173jE+xbt4FMoJnxK/oPqNAg2sc8rVtchwqJFlULmxjmvv7rdhLb08MYRUSWWS7nH3LZ1nB9rXqjX" data-form-email=true> <div class=form-group> <label class=form-control-label for=contacts4-75-name>Firma/Name<span class=form-asterisk>*</span></label> <input class="form-control input-sm input-inverse" name=name required="" data-form-field=Name id=contacts4-75-name> </div> <div class=form-group> <label class=form-control-label for=contacts4-75-email>E-Mail<span class=form-asterisk>*</span></label> <input type=email class="form-control input-sm input-inverse" name=email required="" data-form-field=Email id=contacts4-75-email> </div> <div class=form-group> <label class=form-control-label for=contacts4-75-message>Ihre Nachricht</label> <textarea class="form-control input-sm input-inverse" name=message data-form-field=Message rows=4 id=contacts4-75-message></textarea> </div> <div class="mbr-buttons mbr-buttons--right btn-inverse"><button type=submit class="btn btn-sm btn-black">Senden</button></div> </form> </div> </div> </div> </section> <footer class="mbr-small-footer mbr-section mbr-section-nopadding" id=footer1-76 style="background-color: rgb(50, 50, 50); padding-top: 1.75rem; padding-bottom: 1.75rem;"> <div class=container> <p class=text-xs-center>Copyright (c) 2016 mdwp. &nbsp;Bilder teilweise by Unsplash.com</p> </div> </footer> <link rel=author href="https://plus.google.com/104314608492946919397"/> <link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;subset=latin"> <link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700"> <link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900"> <link rel=stylesheet href="/assets/animate.css/animate.min-97afa151.css"> <link rel=stylesheet href="/assets/et-line-font-plugin/style-12e02cc6.css"> <link rel=stylesheet href="/assets/bootstrap-material-design-font/css/material-0c77e502.css"> <link rel=stylesheet href="/assets/tether/tether.min-4c02e993.css"> <link rel=stylesheet href="/assets/socicon/css/socicon.min-2849af3d.css"> <link rel=stylesheet href="/assets/dropdown/css/style-151d9b88.css"> <link rel=stylesheet href="/assets/theme/css/style-fecffea7.css"> <link rel=stylesheet href="/assets/mobirise/css/mbr-additional-748e52a7.css"> <script src="/assets/web/assets/jquery/jquery.min-8130544c.js"></script> <script src="/assets/tether/tether.min-345421c0.js"></script> <script src="/assets/bootstrap/js/bootstrap.min-fad10c3c.js"></script> <script src="/assets/smooth-scroll/SmoothScroll-f2c1a7b9.js"></script> <script src="/assets/viewportChecker/jquery.viewportchecker-a45f5798.js"></script> <script src="/assets/dropdown/js/script.min-c957f98e.js"></script> <script src="/assets/touchSwipe/jquery.touchSwipe.min-69c8c9f0.js"></script> <script src="/assets/jarallax/jarallax-08e41bcd.js"></script> <script src="/assets/mobirise/js/script-61a2faae.js">
<script src="/assets/theme/js/script-9d38bd3b.js"></script> <script src="assets/formoid/formoid.min.js"></script> <input name=animation type=hidden> </body> </html>